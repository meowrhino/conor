import"./main-c331604e.js";import{g as t}from"./index-794e919d.js";document.addEventListener("DOMContentLoaded",function(){const r=document.getElementById("device-check-overlay"),n=document.getElementById("device-check-message"),u=document.getElementById("browser-check-why-link"),o=document.getElementById("mobile-check-why-link"),m=document.getElementById("browser-check-explanation"),k=document.getElementById("mobile-check-explanation"),L=document.getElementById("device-check-content");function E(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function S(){const p=navigator.userAgent;return p.indexOf("Safari")>-1&&p.indexOf("Chrome")==-1&&!E()}E()?(n.textContent="oh no, you are using a phone :( you need a larger device, like a laptop in order to enter this page. also pls dont use safariiii",r.classList.remove("hidden"),o.classList.remove("hidden"),L.classList.add("mobile")):S()?(n.textContent="oh no, you are using safari :( you need a different browser like chrome in order to enter this page.",r.classList.remove("hidden"),u.classList.remove("hidden")):r.classList.add("hidden"),u.addEventListener("click",function(p){p.preventDefault(),m.classList.toggle("show")}),o.addEventListener("click",function(p){p.preventDefault(),k.classList.toggle("show")})});document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("cross"),n=document.getElementById("header-img"),u=document.getElementById("year-navigation"),o=document.querySelectorAll(".month-navigation"),m=document.querySelectorAll("a"),k=document.querySelectorAll(".crosslink"),L=document.getElementById("interface");L.style.display="flex",t.set(k,{opacity:.75}),k.forEach(e=>{const i=()=>{t.to(e,{duration:.3,opacity:1,ease:"power1.out"})},s=()=>{t.to(e,{duration:.3,opacity:.75,ease:"power1.out"})};e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",s)});function E(e,i){e.preventDefault(),sessionStorage.setItem("isInternalNavigation","true");const s=new XMLHttpRequest;s.open("GET",i),s.onload=function(){const l=new DOMParser().parseFromString(s.responseText,"text/html");l.querySelectorAll("script[src]").forEach(c=>{const d=new XMLHttpRequest;d.open("GET",c.src),d.send()}),l.querySelectorAll('link[rel="stylesheet"]').forEach(c=>{const d=new XMLHttpRequest;d.open("GET",c.href),d.send()}),l.querySelectorAll("img[src]:not(.lazy-image):not([data-src])").forEach(c=>{const d=new XMLHttpRequest;d.open("GET",c.src),d.send()})},s.send(),r.style.pointerEvents="none",t.to(r,{y:0,opacity:0,duration:.15,ease:"power3.inOut",onComplete:()=>{m.forEach(h=>{h.style.display="none"}),r&&(r.style.display="none")}}),t.to(R,{opacity:0,duration:.5,ease:"power4.inOut"}),t.to([u,o,n],{y:-50,opacity:0,duration:.5,ease:"power4.inOut",onComplete:()=>{setTimeout(()=>{window.location.href=i},500)}})}m.forEach(function(e){e.addEventListener("click",function(i){const s=this.getAttribute("href"),h=s.startsWith("#"),l=s.startsWith("javascript:"),c=this.getAttribute("target")==="_blank",d=this.hasAttribute("download");h||l||c||d||E(i,s)})}),document.querySelectorAll("img").forEach(e=>{e.id!=="lightbox-image"&&e.id!=="header-img"&&e.id!=="cross"&&e.src&&!e.dataset.src&&(e.dataset.src=e.src,e.removeAttribute("src"),e.classList.add("lazy-image"))});const p=document.querySelectorAll(".year-link"),x=document.querySelector(".header-diary");t.set(x,{opacity:0,y:20}),t.set(r,{opacity:0,y:15}),t.to(x,{opacity:1,y:0,duration:1,ease:"power3.out"}),t.to(r,{opacity:1,y:0,duration:.3,ease:"power2.out"}),t.set(p,{opacity:0,y:5}),t.to(p,{opacity:1,y:0,duration:.2,delay:.25,stagger:.075,ease:"power2.out"}),document.querySelectorAll(".year-link").forEach(e=>{e.addEventListener("click",()=>{t.to(e,{y:-1.5,duration:.1,yoyo:!0,repeat:1,ease:"power1.out"}),document.querySelectorAll(".year-link").forEach(h=>h.classList.remove("active")),e.classList.add("active"),document.querySelectorAll(".year-section").forEach(h=>h.style.display="none");const i=document.querySelector(`#section-${e.dataset.year}`);i&&(i.style.display="block");const s=i.querySelectorAll(".month-link");s.length>0&&(t.set(s,{opacity:0,y:2.5}),t.to(s,{opacity:1,y:0,duration:.2,stagger:.04,ease:"power2.out"}))})});const f=document.querySelector("#svg-loader .cls-1"),w=document.getElementById("svg-loader");f.style.display="block";const v=f.getTotalLength();f.style.strokeDasharray=v,f.style.strokeDashoffset=v,f.dataset.pathLength=v;function A(){O(),w.style.display="block",w.style.opacity="1",t.to(f,{strokeDashoffset:0,duration:10,ease:"power1.out"})}function D(e){const i=v*(1-e/100);t.to(f,{strokeDashoffset:i,duration:.5,ease:"power1.out",overwrite:!0}),w.setAttribute("aria-valuenow",e)}function P(){t.to(w,{opacity:0,duration:.2,ease:"power1.in",onComplete:()=>{w.style.display="none",O()}})}function O(){t.set(f,{strokeDashoffset:v})}async function X(e,i){const s=e.length;let h=0;A();for(let l=0;l<s;l++){const c=e[l],d=c.dataset.src;d&&(c.src=d,c.removeAttribute("data-src"),await new Promise((M,j)=>{c.onload=()=>{h++;const C=h/s*100;D(C),i&&i(c,l,s),M()},c.onerror=()=>{console.error("Failed to load image:",d),h++;const C=h/s*100;D(C),i&&i(c,l,s),M()}}))}setTimeout(()=>{P()},400)}document.querySelectorAll(".month-link").forEach(e=>{e.addEventListener("click",async()=>{t.to(e,{y:-1.5,duration:.1,yoyo:!0,repeat:1,ease:"power1.out"}),document.querySelectorAll(".month-section").forEach(l=>{l.style.display="none"}),document.querySelectorAll(".month-link").forEach(l=>l.classList.remove("active")),e.classList.add("active");const i=document.querySelector(`#month-${e.dataset.year}-${e.dataset.month}`);if(!i)return;if(i.dataset.loaded==="true"){i.style.display="block";const l=i.querySelectorAll("img");images,t.to(l,{opacity:1,duration:.3,stagger:.1});return}i.dataset.loaded="true";const s=Array.from(i.querySelectorAll("img.lazy-image"));if(!s.length)return;i.style.display="block",t.set(s,{opacity:0}),await X(s,(l,c,d)=>{t.to(l,{opacity:1,duration:.5,delay:c*.05}),l.classList.remove("lazy-image")})})});const R=document.querySelectorAll(".image-container");let H=!0;document.querySelectorAll(".month-link").forEach(e=>{e.addEventListener("click",()=>{H&&(x.classList.add("first-click-active"),t.to(R,{opacity:1,duration:.3,delay:.7,ease:"power1.in"}),H=!1)})})});document.getElementById("cross");const b=document.getElementById("lightbox"),I=document.getElementById("lightbox-image"),q=document.getElementById("interface"),N=document.getElementById("year-navigation"),T=document.querySelectorAll(".month-navigation");let y=[],g=0;const a=document.createElement("div");a.style.position="fixed";a.style.bottom="20px";a.style.right="20px";a.style.color="#ffffffd6";a.style.letterSpacing="-1.5px";a.style.textStroke="-0.25px";a.style.fontSize="15px";a.style.fontFamily="Neueeigene";a.style.zIndex="1002";a.style.backgroundColor="#000000e6";a.style.paddingTop="3.5px";a.style.paddingBottom="1.5px";a.style.paddingLeft="8px";a.style.paddingRight="8px";a.style.opacity="0";a.style.borderRadius="5px";a.style.display="none";document.body.appendChild(a);function $(){a.textContent=`${g+1} / ${y.length}`,a.style.display="block",t.to(a,{opacity:1,duration:.5,ease:"power2.in"})}function W(r){if(b.style.display==="flex")switch(r.key){case"ArrowRight":z();break;case"ArrowLeft":F();break;case"Escape":B();break}}document.querySelectorAll(".image-container img").forEach(r=>{r.addEventListener("click",n=>{n.target.style.visibility="hidden";const u=n.target.closest(".image-container");y=Array.from(u.querySelectorAll("img")),g=y.indexOf(n.target),$(),t.to([q,N,T],{opacity:0,duration:.5,ease:"power2.in",onComplete:()=>{q.style.display="none"}});const o=n.target.cloneNode(!0),m=n.target.getBoundingClientRect();o.style.position="fixed",o.style.top=`${m.top}px`,o.style.left=`${m.left}px`,o.style.width=`${m.width}px`,o.style.height=`${m.height}px`,o.style.zIndex="1000",o.style.transition="none",o.style.objectFit="contain",o.style.visibility="hidden",o.style.pointerEvents="none",document.body.appendChild(o),I.src=n.target.src,requestAnimationFrame(()=>{o.style.visibility="visible",t.to(o,{top:`${(window.innerHeight-window.innerHeight*.9)/2}px`,left:`${(window.innerWidth-window.innerWidth*.9)/2}px`,width:"90%",height:"90%",duration:.5,ease:"power2.out",onComplete:()=>{b.style.display="flex",b.style.opacity="1",document.body.removeChild(o),document.addEventListener("keydown",W)}})})})});function B(){const r=I.getBoundingClientRect(),n=I.cloneNode(!0);document.body.appendChild(n),n.style.position="fixed",n.style.top=`${r.top}px`,n.style.left=`${r.left}px`,n.style.width=`${r.width}px`,n.style.height=`${r.height}px`,n.style.zIndex="1001",n.style.objectFit="contain";const u=y[g],o=u.getBoundingClientRect();t.to(n,{top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`,height:`${o.height}px`,duration:.5,ease:"power2.inOut",onComplete:()=>{document.body.removeChild(n),t.to(a,{opacity:0,duration:.5}),u.style.visibility="visible"}}),t.to(a,{opacity:0,duration:.5,ease:"power2.in",onComplete:()=>{a.style.display="none"}}),q.style.display="flex",t.to([q,N,T],{opacity:1,duration:.5,ease:"power2.in"}),b.style.display="none",document.removeEventListener("keydown",W)}function z(){y.length>0&&(y[g].style.visibility="visible",g=(g+1)%y.length,y[g].style.visibility="hidden",$(),I.src=y[g].src)}function F(){y.length>0&&(y[g].style.visibility="visible",g=(g-1+y.length)%y.length,y[g].style.visibility="hidden",$(),I.src=y[g].src)}b.addEventListener("click",r=>{if(r.target===b){B();return}const n=b.querySelector("img"),u=n.getBoundingClientRect(),o=u.width,m=u.height,k=n.naturalWidth,L=n.naturalHeight,E=o/k,S=m/L;let p=o,x=m,f=0,w=0;E<S?(x=L*E,w=(m-x)/2):(p=k*S,f=(o-p)/2);const v=r.clientX-u.left-f,A=r.clientY-u.top-w;v>=0&&v<=p&&A>=0&&A<=x?v>p/2?z():F():B()});sessionStorage.getItem("isInternalNavigation");
